@startuml
!include style.puml

Actor User as user
Participant ":Taa" as taa
Participant ":SetMarkCommand" as setMarkCommand
Participant ":ModuleList" as moduleList
Participant ":Module" as module
Participant ":AssessmentList" as assessmentList
Participant ":StudentList" as studentList
Participant ":Student" as student
Participant ":Storage" as storage

user -> taa : "set_marks c/CS2113T-F12 \ns/1 a/Midterms m/60"
activate taa

taa -> setMarkCommand : execute(moduleList:ModuleList, \nui:Ui, storage:Storage)
activate setMarkCommand

setMarkCommand -> moduleList : getModuleWithCode(moduleCode:String)
activate moduleList
moduleList --> setMarkCommand : module:Module
deactivate moduleList

setMarkCommand -> module : getStudentList()
activate module
module --> setMarkCommand : studentList:StudentList
deactivate module

setMarkCommand -> module : getAssessmentList()
activate module
module --> setMarkCommand : assessmentList:AssessmentList
deactivate module

setMarkCommand -> assessmentList : getAssessment(assessmentName:String)
activate assessmentList
assessmentList --> setMarkCommand : assessment:Assessment
deactivate assessmentList

setMarkCommand -> studentList : getStudentAt(studentIndex:Integer)
activate studentList
studentList --> setMarkCommand : student:Student
deactivate studentList

setMarkCommand -> student : setMarks(assessmentName:String, \nmarks:Double)
activate student
student --> setMarkCommand
deactivate student

setMarkCommand -> storage : save(moduleList:ModuleList)
activate storage
storage --> setMarkCommand
deactivate storage

setMarkCommand --> taa
deactivate setMarkCommand
taa -[hidden]-> setMarkCommand
destroy setMarkCommand

taa --> user
deactivate taa

@enduml